{"ast":null,"code":"var _jsxFileName = \"/Users/bizhan/Desktop/bailanysta_nfactorial/Web/frontend/src/pages/ProfilePage.jsx\",\n  _s = $RefreshSig$();\n// src/pages/ProfilePage.jsx\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport api from '../api';\nimport Post from '../components/Post';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProfilePage() {\n  _s();\n  const storedUser = JSON.parse(localStorage.getItem('user') || 'null');\n  const userId = storedUser === null || storedUser === void 0 ? void 0 : storedUser.userId;\n  const navigate = useNavigate();\n  const [user, setUser] = useState(null);\n  const [posts, setPosts] = useState([]);\n  const [likedPosts, setLikedPosts] = useState([]);\n  const [myComments, setMyComments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [isEditing, setIsEditing] = useState(false);\n  const [fullname, setFullname] = useState('');\n  const [bio, setBio] = useState('');\n  const [location, setLocation] = useState('');\n  const [saving, setSaving] = useState(false);\n\n  // 1) Загрузить профиль\n  useEffect(() => {\n    if (!userId) return navigate('/login');\n    (async () => {\n      try {\n        const {\n          data\n        } = await api.get(`/users/${userId}`);\n        setUser(data);\n        setFullname(data.fullname);\n        setBio(data.bio || '');\n        setLocation(data.location || '');\n      } catch (err) {\n        console.error(err);\n      }\n    })();\n  }, [userId, navigate]);\n\n  // 2) Загрузить посты и лайки\n  useEffect(() => {\n    if (!userId) return;\n    (async () => {\n      try {\n        const {\n          data\n        } = await api.get('/posts');\n        setPosts(data.filter(p => p.author._id === userId));\n        setLikedPosts(data.filter(p => p.likes.includes(userId)));\n      } catch (err) {\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, [userId]);\n\n  // 3) Загрузить комментарии пользователя\n  useEffect(() => {\n    if (!userId) return;\n    (async () => {\n      try {\n        const {\n          data: allPosts\n        } = await api.get('/posts');\n        let commentsAcc = [];\n        for (let p of allPosts) {\n          const {\n            data\n          } = await api.get(`/posts/${p._id}`);\n          const userComs = data.comments.filter(c => c.author._id === userId).map(c => ({\n            ...c,\n            postId: p._id\n          }));\n          commentsAcc = commentsAcc.concat(userComs);\n        }\n        setMyComments(commentsAcc);\n      } catch (err) {\n        console.error(err);\n      }\n    })();\n  }, [userId]);\n  const handleSave = async () => {\n    setSaving(true);\n    try {\n      const {\n        data\n      } = await api.put(`/users/${userId}`, {\n        fullname,\n        bio,\n        location\n      });\n      setUser(data);\n      localStorage.setItem('user', JSON.stringify({\n        ...storedUser,\n        fullname: data.fullname\n      }));\n      setIsEditing(false);\n    } catch (err) {\n      console.error(err);\n    }\n    setSaving(false);\n  };\n  if (loading || !user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mt-12 text-gray-500\",\n      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 12\n    }, this);\n  }\n  const initials = user.username.slice(0, 2).toUpperCase();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-2xl mx-auto bg-white p-8 rounded-lg shadow\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-6 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center text-white text-3xl font-bold\",\n        children: initials\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold\",\n          children: user.fullname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: [\"@\", user.username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsEditing(prev => !prev),\n        className: \"ml-auto px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100\",\n        children: isEditing ? 'Отменить' : 'Редактировать профиль'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), isEditing ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium mb-1\",\n          children: \"\\u041F\\u043E\\u043B\\u043D\\u043E\\u0435 \\u0438\\u043C\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: fullname,\n          onChange: e => setFullname(e.target.value),\n          className: \"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium mb-1\",\n          children: \"Bio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: bio,\n          onChange: e => setBio(e.target.value),\n          rows: \"3\",\n          className: \"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium mb-1\",\n          children: \"\\u041C\\u0435\\u0441\\u0442\\u043E\\u043F\\u043E\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: location,\n          onChange: e => setLocation(e.target.value),\n          className: \"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSave,\n        disabled: saving,\n        className: \"px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 disabled:opacity-50\",\n        children: saving ? 'Сохраняем...' : 'Сохранить'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 space-y-2\",\n      children: [user.bio && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-700\",\n        children: user.bio\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 24\n      }, this), user.location && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"flex items-center text-gray-600\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5 mr-2 text-gray-500\",\n          fill: \"currentColor\",\n          viewBox: \"0 0 20 20\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M10 2C6.686 2 4 4.686 4 8c0 4.5 6 10 6 10s6-5.5 6-10c0-3.314-2.686-6-6-6zm0 8a2 2 0 110-4 2 2 0 010 4z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 15\n        }, this), user.location]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-semibold mb-4\",\n      children: \"\\u041C\\u043E\\u0438 \\u043F\\u043E\\u0441\\u0442\\u044B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), posts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-gray-500 mb-4\",\n      children: \"\\u0423 \\u0432\\u0430\\u0441 \\u0435\\u0449\\u0451 \\u043D\\u0435\\u0442 \\u043F\\u043E\\u0441\\u0442\\u043E\\u0432.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }, this) : posts.map(p => /*#__PURE__*/_jsxDEV(Post, {\n      post: p\n    }, p._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 24\n    }, this)), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-semibold mt-8 mb-4\",\n      children: \"\\u041C\\u043E\\u0438 \\u043B\\u0430\\u0439\\u043A\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), likedPosts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-gray-500 mb-4\",\n      children: \"\\u041D\\u0435\\u0442 \\u043B\\u0430\\u0439\\u043A\\u043E\\u0432.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }, this) : likedPosts.map(p => /*#__PURE__*/_jsxDEV(Post, {\n      post: p\n    }, p._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 29\n    }, this)), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-semibold mt-8 mb-4\",\n      children: \"\\u041C\\u043E\\u0438 \\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this), myComments.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-gray-500\",\n      children: \"\\u041D\\u0435\\u0442 \\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0435\\u0432.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 9\n    }, this) : myComments.map(c => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-3 rounded-lg shadow mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-700 mb-1\",\n        children: c.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `/post/${c.postId}`,\n        className: \"text-green-600 hover:underline text-sm\",\n        children: \"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438 \\u043A \\u043F\\u043E\\u0441\\u0442\\u0443\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }, this)]\n    }, c._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n}\n_s(ProfilePage, \"icpjZ0Pl5bI5D2enCdxTtnAJRR4=\", false, function () {\n  return [useNavigate];\n});\n_c = ProfilePage;\nvar _c;\n$RefreshReg$(_c, \"ProfilePage\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Link","api","Post","jsxDEV","_jsxDEV","ProfilePage","_s","storedUser","JSON","parse","localStorage","getItem","userId","navigate","user","setUser","posts","setPosts","likedPosts","setLikedPosts","myComments","setMyComments","loading","setLoading","isEditing","setIsEditing","fullname","setFullname","bio","setBio","location","setLocation","saving","setSaving","data","get","err","console","error","filter","p","author","_id","likes","includes","allPosts","commentsAcc","userComs","comments","c","map","postId","concat","handleSave","put","setItem","stringify","className","children","fileName","_jsxFileName","lineNumber","columnNumber","initials","username","slice","toUpperCase","onClick","prev","value","onChange","e","target","rows","disabled","fill","viewBox","d","length","post","text","to","_c","$RefreshReg$"],"sources":["/Users/bizhan/Desktop/bailanysta_nfactorial/Web/frontend/src/pages/ProfilePage.jsx"],"sourcesContent":["// src/pages/ProfilePage.jsx\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport api  from '../api';\nimport Post from '../components/Post';\n\nexport default function ProfilePage() {\n  const storedUser = JSON.parse(localStorage.getItem('user') || 'null');\n  const userId     = storedUser?.userId;\n  const navigate   = useNavigate();\n\n  const [user,       setUser]       = useState(null);\n  const [posts,      setPosts]      = useState([]);\n  const [likedPosts, setLikedPosts] = useState([]);\n  const [myComments, setMyComments] = useState([]);\n  const [loading,    setLoading]    = useState(true);\n\n  const [isEditing, setIsEditing] = useState(false);\n  const [fullname,  setFullname]  = useState('');\n  const [bio,       setBio]       = useState('');\n  const [location,  setLocation]  = useState('');\n  const [saving,    setSaving]    = useState(false);\n\n  // 1) Загрузить профиль\n  useEffect(() => {\n    if (!userId) return navigate('/login');\n    (async () => {\n      try {\n        const { data } = await api.get(`/users/${userId}`);\n        setUser(data);\n        setFullname(data.fullname);\n        setBio(data.bio || '');\n        setLocation(data.location || '');\n      } catch (err) {\n        console.error(err);\n      }\n    })();\n  }, [userId, navigate]);\n\n  // 2) Загрузить посты и лайки\n  useEffect(() => {\n    if (!userId) return;\n    (async () => {\n      try {\n        const { data } = await api.get('/posts');\n        setPosts(data.filter(p => p.author._id === userId));\n        setLikedPosts(data.filter(p => p.likes.includes(userId)));\n      } catch (err) {\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, [userId]);\n\n  // 3) Загрузить комментарии пользователя\n  useEffect(() => {\n    if (!userId) return;\n    (async () => {\n      try {\n        const { data: allPosts } = await api.get('/posts');\n        let commentsAcc = [];\n        for (let p of allPosts) {\n          const { data } = await api.get(`/posts/${p._id}`);\n          const userComs = data.comments\n            .filter(c => c.author._id === userId)\n            .map(c => ({ ...c, postId: p._id }));\n          commentsAcc = commentsAcc.concat(userComs);\n        }\n        setMyComments(commentsAcc);\n      } catch (err) {\n        console.error(err);\n      }\n    })();\n  }, [userId]);\n\n  const handleSave = async () => {\n    setSaving(true);\n    try {\n      const { data } = await api.put(`/users/${userId}`, { fullname, bio, location });\n      setUser(data);\n      localStorage.setItem('user', JSON.stringify({ ...storedUser, fullname: data.fullname }));\n      setIsEditing(false);\n    } catch (err) {\n      console.error(err);\n    }\n    setSaving(false);\n  };\n\n  if (loading || !user) {\n    return <div className=\"text-center mt-12 text-gray-500\">Загрузка...</div>;\n  }\n\n  const initials = user.username.slice(0, 2).toUpperCase();\n\n  return (\n    <div className=\"max-w-2xl mx-auto bg-white p-8 rounded-lg shadow\">\n      {/* Шапка профиля */}\n      <div className=\"flex items-center space-x-6 mb-6\">\n        <div className=\"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center text-white text-3xl font-bold\">\n          {initials}\n        </div>\n        <div>\n          <h1 className=\"text-2xl font-bold\">{user.fullname}</h1>\n          <p className=\"text-gray-500\">@{user.username}</p>\n        </div>\n        <button\n          onClick={() => setIsEditing(prev => !prev)}\n          className=\"ml-auto px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100\"\n        >\n          {isEditing ? 'Отменить' : 'Редактировать профиль'}\n        </button>\n      </div>\n\n      {/* Форма редактирования */}\n      {isEditing ? (\n        <div className=\"space-y-4 mb-6\">\n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Полное имя</label>\n            <input\n              value={fullname}\n              onChange={e => setFullname(e.target.value)}\n              className=\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Bio</label>\n            <textarea\n              value={bio}\n              onChange={e => setBio(e.target.value)}\n              rows=\"3\"\n              className=\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Местоположение</label>\n            <input\n              value={location}\n              onChange={e => setLocation(e.target.value)}\n              className=\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\n            />\n          </div>\n          <button\n            onClick={handleSave}\n            disabled={saving}\n            className=\"px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 disabled:opacity-50\"\n          >\n            {saving ? 'Сохраняем...' : 'Сохранить'}\n          </button>\n        </div>\n      ) : (\n        <div className=\"mb-6 space-y-2\">\n          {user.bio && <p className=\"text-gray-700\">{user.bio}</p>}\n          {user.location && (\n            <p className=\"flex items-center text-gray-600\">\n              <svg\n                className=\"w-5 h-5 mr-2 text-gray-500\"\n                fill=\"currentColor\"\n                viewBox=\"0 0 20 20\"\n              >\n                <path d=\"M10 2C6.686 2 4 4.686 4 8c0 4.5 6 10 6 10s6-5.5 6-10c0-3.314-2.686-6-6-6zm0 8a2 2 0 110-4 2 2 0 010 4z\"/>\n              </svg>\n              {user.location}\n            </p>\n          )}\n        </div>\n      )}\n\n      {/* Мои посты */}\n      <h2 className=\"text-xl font-semibold mb-4\">Мои посты</h2>\n      {posts.length === 0 ? (\n        <div className=\"text-gray-500 mb-4\">У вас ещё нет постов.</div>\n      ) : (\n        posts.map(p => <Post key={p._id} post={p} />)\n      )}\n\n      {/* Мои лайки */}\n      <h2 className=\"text-xl font-semibold mt-8 mb-4\">Мои лайки</h2>\n      {likedPosts.length === 0 ? (\n        <div className=\"text-gray-500 mb-4\">Нет лайков.</div>\n      ) : (\n        likedPosts.map(p => <Post key={p._id} post={p} />)\n      )}\n\n      {/* Мои комментарии */}\n      <h2 className=\"text-xl font-semibold mt-8 mb-4\">Мои комментарии</h2>\n      {myComments.length === 0 ? (\n        <div className=\"text-gray-500\">Нет комментариев.</div>\n      ) : (\n        myComments.map(c => (\n          <div key={c._id} className=\"bg-white p-3 rounded-lg shadow mb-3\">\n            <p className=\"text-gray-700 mb-1\">{c.text}</p>\n            <Link to={`/post/${c.postId}`} className=\"text-green-600 hover:underline text-sm\">\n              Перейти к посту\n            </Link>\n          </div>\n        ))\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}